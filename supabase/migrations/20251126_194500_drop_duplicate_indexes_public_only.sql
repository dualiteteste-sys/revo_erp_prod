-- Migration: drop duplicate/non-essential indexes (PUBLIC schemas only)
-- Generated: 2025-11-26 19:45:00
-- Note: Skips auth.users index due to ownership (managed by Supabase).

SET lock_timeout = '5s';
SET statement_timeout = '10min';

-- === PUBLIC ===
DROP INDEX CONCURRENTLY IF EXISTS public.atributos_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.centros_de_custo_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_centros_de_custo_empresa_id_ee4907;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_centros_de_custo_empresa_id_70851a;
DROP INDEX CONCURRENTLY IF EXISTS public.compras_itens_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.compras_itens_pedido_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.compras_itens_produto_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_compras_itens_empresa_id_779e9a;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_compras_itens_pedido_id_0ec0e9;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_compras_itens_produto_id_4a7e5e;
DROP INDEX CONCURRENTLY IF EXISTS public.compras_pedidos_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.compras_pedidos_fornecedor_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_compras_pedidos_empresa_id_296469;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_compras_pedidos_empresa_id_ac1fea;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_compras_pedidos_fornecedor_id_b8b227;
DROP INDEX CONCURRENTLY IF EXISTS public.contas_a_receber_cliente_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.contas_a_receber_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_contas_a_receber_empresa_id_295162;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_contas_a_receber_cliente_id_0413f6;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_contas_a_receber_empresa_id_2f5169;
DROP INDEX CONCURRENTLY IF EXISTS public.crm_etapas_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_crm_etapas_empresa_id_81c585;
DROP INDEX CONCURRENTLY IF EXISTS public.crm_funis_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_crm_funis_empresa_id_da16e1;
DROP INDEX CONCURRENTLY IF EXISTS public.crm_oportunidades_cliente_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.crm_oportunidades_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.crm_oportunidades_etapa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.crm_oportunidades_funil_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_crm_oportunidades_empresa_id_551b9b;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_crm_oportunidades_cliente_id_579028;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_crm_oportunidades_empresa_id_a3b2a9;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_crm_oportunidades_etapa_id_2e185b;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_crm_oportunidades_funil_id_787e0f;
DROP INDEX CONCURRENTLY IF EXISTS public.ecommerces_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.empresa_addons_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_empresa_addons_addon_slug_billing_cycle_9fb4dc;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_empresa_addons_empresa_id_8a454c;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_empresa_usuarios_emp_user;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_empresa_usuarios_empresa_id_89002f;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_empresa_usuarios_empresa_id_f589ec;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_empresa_usuarios_empresa_id_89afbe;
DROP INDEX CONCURRENTLY IF EXISTS public.estoque_movimentos_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_estoque_movimentos_empresa_id_b49f27;
DROP INDEX CONCURRENTLY IF EXISTS public.estoque_saldos_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_estoque_saldos_empresa_id_f37397;
DROP INDEX CONCURRENTLY IF EXISTS public.financeiro_centros_custos_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_financeiro_centros_c_empresa_id_4fa97d;
DROP INDEX CONCURRENTLY IF EXISTS public.financeiro_cobrancas_bancarias_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_financeiro_cobrancas_empresa_id_8c8790;
DROP INDEX CONCURRENTLY IF EXISTS public.financeiro_cobrancas_bancarias_eventos_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_financeiro_cobrancas_empresa_id_524427;
DROP INDEX CONCURRENTLY IF EXISTS public.financeiro_contas_correntes_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_financeiro_contas_co_empresa_id_69bc47;
DROP INDEX CONCURRENTLY IF EXISTS public.financeiro_contas_pagar_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_financeiro_contas_pa_empresa_id_7684b3;
DROP INDEX CONCURRENTLY IF EXISTS public.financeiro_extratos_bancarios_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.financeiro_extratos_bancarios_movimentacao_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_financeiro_extratos__empresa_id_9b6894;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_financeiro_extratos__movimentacao_id_d60628;
DROP INDEX CONCURRENTLY IF EXISTS public.financeiro_movimentacoes_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_financeiro_movimenta_empresa_id_10a4f2;
DROP INDEX CONCURRENTLY IF EXISTS public.fornecedores_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_industria_benef_comp_empresa_id_bd4efe;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_industria_benef_comp_ordem_id_a84947;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_industria_benef_comp_produto_id_3083e6;
DROP INDEX CONCURRENTLY IF EXISTS public.industria_benef_componentes_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.industria_benef_componentes_ordem_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.industria_benef_componentes_produto_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_industria_benef_entr_empresa_id_2aa396;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_industria_benef_entr_ordem_id_265367;
DROP INDEX CONCURRENTLY IF EXISTS public.industria_benef_entregas_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.industria_benef_entregas_ordem_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_industria_benef_orde_cliente_id_cd8e32;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_industria_benef_orde_empresa_id_a569e0;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_industria_benef_orde_produto_material_cliente_686a14;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_industria_benef_orde_produto_servico_id_ea41a2;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_industria_benef_ordens_empresa_id_baa558;
DROP INDEX CONCURRENTLY IF EXISTS public.industria_benef_ordens_cliente_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.industria_benef_ordens_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.industria_benef_ordens_produto_material_cliente_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.industria_benef_ordens_produto_servico_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_industria_boms_empresa_id_8efd53;
DROP INDEX CONCURRENTLY IF EXISTS public.industria_boms_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_industria_boms_compo_empresa_id_f473b4;
DROP INDEX CONCURRENTLY IF EXISTS public.industria_boms_componentes_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_industria_centros_tr_empresa_id_53768d;
DROP INDEX CONCURRENTLY IF EXISTS public.industria_centros_trabalho_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_industria_materiais__empresa_id_217671;
DROP INDEX CONCURRENTLY IF EXISTS public.industria_materiais_cliente_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_industria_operacoes_empresa_id_11eb07;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_industria_operacoes_roteiro_etapa_id_546dd3;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_industria_operacoes_roteiro_id_0bdcab;
DROP INDEX CONCURRENTLY IF EXISTS public.industria_operacoes_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.industria_operacoes_roteiro_etapa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.industria_operacoes_roteiro_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_industria_operacoes__empresa_id_499104;
DROP INDEX CONCURRENTLY IF EXISTS public.industria_operacoes_apontamentos_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_industria_ordem_comp_empresa_id_bfadcc;
DROP INDEX CONCURRENTLY IF EXISTS public.industria_ordem_componentes_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_industria_ordem_entr_empresa_id_16f0ed;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_industria_ordem_entregas_empresa_id_f7709d;
DROP INDEX CONCURRENTLY IF EXISTS public.industria_ordem_entregas_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_industria_ordens_cliente_id_3c86a3;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_industria_ordens_empresa_id_2513f0;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_industria_ordens_produto_final_id_227f2c;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_industria_ordens_empresa_id_af84ef;
DROP INDEX CONCURRENTLY IF EXISTS public.industria_ordens_cliente_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.industria_ordens_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.industria_ordens_produto_final_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_industria_ordens_com_empresa_id_69540c;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_industria_ordens_com_ordem_id_667968;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_industria_ordens_com_produto_id_013c77;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_industria_ordens_componentes_empresa_id;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_industria_ordens_componentes_empresa_id_726ac5;
DROP INDEX CONCURRENTLY IF EXISTS public.industria_ordens_componentes_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.industria_ordens_componentes_ordem_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.industria_ordens_componentes_produto_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_industria_producao_c_empresa_id_eabb5e;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_industria_producao_c_ordem_id_27c4f9;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_industria_producao_c_produto_id_267bb1;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_industria_producao_componentes_ordem_id_de9448;
DROP INDEX CONCURRENTLY IF EXISTS public.industria_producao_componentes_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.industria_producao_componentes_ordem_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.industria_producao_componentes_produto_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_industria_producao_e_empresa_id_91e19c;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_industria_producao_e_ordem_id_4f99fc;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_industria_producao_entregas_ordem_id_871d29;
DROP INDEX CONCURRENTLY IF EXISTS public.industria_producao_entregas_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.industria_producao_entregas_ordem_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_industria_producao_o_empresa_id_56193d;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_industria_producao_o_produto_final_id_5ed49f;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_industria_producao_ordens_empresa_id_79cc2c;
DROP INDEX CONCURRENTLY IF EXISTS public.industria_producao_ordens_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.industria_producao_ordens_produto_final_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_industria_roteiros_empresa_id_ce1713;
DROP INDEX CONCURRENTLY IF EXISTS public.industria_roteiros_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_industria_roteiros_e_centro_trabalho_id_962e31;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_industria_roteiros_e_empresa_id_f199b6;
DROP INDEX CONCURRENTLY IF EXISTS public.industria_roteiros_etapas_centro_trabalho_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.industria_roteiros_etapas_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.linhas_produto_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_logistica_transporta_empresa_id_978cd2;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_logistica_transporta_pessoa_id_164ea0;
DROP INDEX CONCURRENTLY IF EXISTS public.logistica_transportadoras_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.logistica_transportadoras_pessoa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.marcas_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_metas_vendas_empresa_id_144929;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_metas_vendas_responsavel_id_8b44db;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_metas_vendas_responsavel_id_e018ee;
DROP INDEX CONCURRENTLY IF EXISTS public.metas_vendas_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.metas_vendas_responsavel_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_ordem_servico_itens_empresa_id_867d34;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_ordem_servico_itens_ordem_servico_id_d47f69;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_ordem_servico_itens_ordem_servico_id_33edca;
DROP INDEX CONCURRENTLY IF EXISTS public.ordem_servico_itens_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.ordem_servico_itens_ordem_servico_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_ordem_servico_parcel_empresa_id_6c43a5;
DROP INDEX CONCURRENTLY IF EXISTS public.ordem_servico_parcelas_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_ordem_servicos_empresa_id_5486a7;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_os_empresa_numero;
DROP INDEX CONCURRENTLY IF EXISTS public.ordem_servicos_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_pessoa_contatos_empresa_id_237ab9;
DROP INDEX CONCURRENTLY IF EXISTS public.pessoa_contatos_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_pessoa_enderecos_empresa_id_55a63b;
DROP INDEX CONCURRENTLY IF EXISTS public.pessoa_enderecos_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_pessoas_empresa_id_d28700;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_pessoas_empresa_id_4560ab;
DROP INDEX CONCURRENTLY IF EXISTS public.products_legacy_archive_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_produto_anuncios_ecommerce_id_d15f42;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_produto_anuncios_produto_id_708f2d;
DROP INDEX CONCURRENTLY IF EXISTS public.produto_anuncios_ecommerce_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.produto_anuncios_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.produto_anuncios_produto_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_produto_atributos_atributo_id_118d9c;
DROP INDEX CONCURRENTLY IF EXISTS public.produto_atributos_atributo_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.produto_atributos_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_produto_componentes_kit_id_e976be;
DROP INDEX CONCURRENTLY IF EXISTS public.produto_componentes_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.produto_componentes_kit_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_produto_fornecedores_produto_id_8c3169;
DROP INDEX CONCURRENTLY IF EXISTS public.produto_fornecedores_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.produto_fornecedores_produto_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_produto_imagens_produto_id_6c751f;
DROP INDEX CONCURRENTLY IF EXISTS public.produto_imagens_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.produto_imagens_produto_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_produto_tags_produto_id_c65d3c;
DROP INDEX CONCURRENTLY IF EXISTS public.produto_tags_empresa_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.produto_tags_produto_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_produtos_produto_pai_id_220894;
DROP INDEX CONCURRENTLY IF EXISTS public.produtos_produto_pai_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_profiles_id_276707;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_profiles_id_d28383;
DROP INDEX CONCURRENTLY IF EXISTS public.profiles_id_idx;
DROP INDEX CONCURRENTLY IF EXISTS public.idx_fk_rh_cargo_competencia_competencia_id_2feb1e; 
